{% extends "master/sideBar/base.html" %}

{% block title %}Gesti√≥n de Beneficiarios{% endblock %}

{% block content %}

<style>
    /* Contenedor principal */
    .page-container {
        padding: 5%;
    }

    /* T√≠tulo mejorado */
    .page-title {
        font-size: 32px;
        font-weight: 800;
        margin-bottom: 8px;
        background: linear-gradient(90deg, #14b8a6, #06b6d4);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        letter-spacing: 0.5px;
    }

    .page-subtitle {
        color: #6b7280;
        font-size: 14px;
        margin-bottom: 25px;
    }

    .title-divider {
        width: 100%;
        height: 4px;
        background: linear-gradient(90deg, #14b8a6, #06b6d4);
        border-radius: 10px;
        margin-bottom: 20px;
    }


    /* Bot√≥n */
    .btn-registrar {
        display: inline-block;
        padding: 10px 18px;
        margin-bottom: 20px;
        color: white;
        text-decoration: none;
        border-radius: 8px;
        font-weight: 600;
        background: linear-gradient(90deg, #14b8a6, #06b6d4);
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.25);
        transition: transform 0.2s, box-shadow 0.2s;
    }

    .btn-registrar:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 14px rgba(0, 0, 0, 0.35);
    }

    /* Tabla */
    .table-container {
        background: #ffffff;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 8px 18px rgba(0, 0, 0, 0.15);
    }

    table {
        width: 100%;
        border-collapse: collapse;
    }

    thead {
        background: linear-gradient(90deg, #0ea5a4, #22c55e);
        color: white;
    }

    th, td {
        padding: 12px;
        text-align: left;
    }

    tbody tr {
        border-bottom: 1px solid #e5e7eb;
    }

    tbody tr:hover {
        background-color: #f0fdfa;
    }
</style>

<div class="page-container">
    <h2 class="page-title">
        üë• Gesti√≥n de Beneficiarios
    </h2>

    <div class="title-divider"></div>

    <p class="page-subtitle">
        Administraci√≥n y control de beneficiarios registrados en el sistema
    </p>

    <a href="{% url 'panel_asesor:registrar' %}" class="btn-registrar">
        ‚ûï Registrar Beneficiario
    </a>

    <div class="table-container">
        <table>
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>C√©dula</th>
                    <th>Usuario</th>
                    <th>Correo</th>
                    <th>Editar</th>
                    <th>Eliminar</th>
                </tr>
            </thead>
            <tbody>
                {% for b in beneficiarios %}
                <tr>
                    <td>{{ b.profile.user.first_name }} {{ b.profile.user.last_name }}</td>
                    <td>{{ b.cedula }}</td>
                    <td>{{ b.profile.user.username }}</td>
                    <td>{{ b.profile.user.email }}</td>
                    <td><a href="{% url 'panel_asesor:editar' b.id %}" class="btn btn-primary">Editar</a></td>
                    <td>
                        <form method="post" action="{% url 'panel_asesor:eliminar' b.id %}" onsubmit="return confirm('¬øDesea eliminar este beneficiario?');">
    {% csrf_token %}
    <button type="submit" class="btn btn-danger">Eliminar</button>
</form>


                    </td>

                </tr>
                {% empty %}
                <tr>
                    <td colspan="4" style="text-align:center; padding:15px;">
                        No hay beneficiarios registrados
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

{% endblock %}

